apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  name: show-readme
spec:
  workspaces:
    - name: source
  steps:
    - name: debug
      image: alpine
      script: |
        set -e
        echo "PWD:"
        pwd
        echo "Workspace contents:"
        ls -la /workspace
        echo "Source contents:"
        ls -la /workspace/source
        echo ""
        echo "README:"
        if [ -f /workspace/source/README.md ]; then
          cat /workspace/source/README.md
        else
          echo "No README.md found under /workspace/source"
          find /workspace/source -maxdepth 3 -type f -iname 'readme*' -print
        fi
